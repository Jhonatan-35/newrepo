<%- include('../partials/head') %>

<body>


  <main>
    <h1><%= typeof title !== 'undefined' ? title : 'Login' %></h1>

    <!-- Flash message display -->
    <% if (locals.notice && notice.length > 0) { %>
    <div class="flash-message"><%= notice[0] %></div>
    <% } %>

    <!-- Server-side validation error display -->
    <% if (errors && errors.length > 0) { %>
    <div class="error-box">
        <ul>
        <% errors.forEach(error => { %>
            <li><%= error.msg %></li>
        <% }) %>
        </ul>
    </div>
    <% } %>

    <!-- Login Form -->
    <form action="/account/login" method="POST" class="auth-form">
      <label for="email">Email</label>
      <input type="email" id="account_email" name="account_email" required>

      <label for="password">Password</label>
      <input type="password" id="account_password" name="account_password" required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$">

      <button type="submit">Login</button>
    </form>

    <p class="register-link">
      Not a member? <a href="/account/register">Create an account</a>
    </p>
  </main>

  
</body>